# ===================================================================
# Portfolio Backend Environment Configuration Template
# ===================================================================
#
# Copy this file to .env and fill in the values
# DO NOT commit .env file to git (it's in .gitignore)
#
# Generate secrets with: openssl rand -hex 32
# ===================================================================

# ===================================================================
# ENVIRONMENT
# ===================================================================
# Options: development | staging | production
ENVIRONMENT=development

# ===================================================================
# DATABASE CONFIGURATION
# ===================================================================
# Main database URL (used in production)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/portfolioai

# Environment-specific database URLs (optional overrides)
DATABASE_URL_DEVELOPMENT=postgresql://postgres:postgres@localhost:5432/portfolioai_dev
DATABASE_URL_TESTING=postgresql://postgres:postgres@localhost:5432/portfolioai_test
DATABASE_URL_STAGING=postgresql://postgres:postgres@localhost:5432/portfolioai_staging

# Database connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=0
DB_POOL_TIMEOUT=30

# Database SSL/TLS (enable in production)
DB_SSL_ENABLED=False
DB_SSL_MODE=prefer

# ===================================================================
# SECURITY SETTINGS
# ===================================================================
# SECRET_KEY: Generate with: openssl rand -hex 32
SECRET_KEY=

# JWT settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_MINUTES=10080

# Debug mode (MUST be False in production)
DEBUG=True

# Allowed hosts (comma-separated)
ALLOWED_HOSTS=*

# Frontend origins for CORS (comma-separated)
FRONTEND_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ===================================================================
# LOGGING
# ===================================================================
LOG_LEVEL=DEBUG
LOG_FORMAT=text
LOG_SQL=False
LOG_FILE=

# ===================================================================
# SECURITY HEADERS
# ===================================================================
HSTS_ENABLED=False
HSTS_MAX_AGE=31536000
CSP_ENABLED=True

# ===================================================================
# RATE LIMITING & DDOS PROTECTION
# ===================================================================
RATE_LIMIT_ENABLED=False
REDIS_URL=
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# Request size limits (bytes)
MAX_REQUEST_SIZE=10485760
MAX_UPLOAD_SIZE_OVERRIDE=10485760

# Slow request protection (seconds)
SLOW_REQUEST_THRESHOLD=30
REQUEST_TIMEOUT=30

# IP blocking
AUTO_BLOCK_ENABLED=True
BLOCK_THRESHOLD_VIOLATIONS=10
BLOCK_DURATION=3600

# ===================================================================
# FILE STORAGE
# ===================================================================
MAX_UPLOAD_SIZE=10485760
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx

# ===================================================================
# EMAIL (SMTP)
# ===================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_TLS=True
SMTP_SSL=False
SMTP_FROM_EMAIL=noreply@your-domain.com
SMTP_FROM_NAME=Portfolio API

# ===================================================================
# OPTIONAL: RAG & EMBEDDING
# ===================================================================
EMBED_PROVIDER=openai
EMBED_MODEL=text-embedding-3-small
OPENAI_API_KEY=
AGENT_KMS_KEY=

# ===================================================================
# OPTIONAL: CELERY
# ===================================================================
CELERY_BROKER_URL=
CELERY_RESULT_BACKEND=

# ===================================================================
# PRODUCTION CHECKLIST
# ===================================================================
# [ ] ENVIRONMENT=production
# [ ] SECRET_KEY set (64+ chars)
# [ ] DEBUG=False
# [ ] ALLOWED_HOSTS=specific domains
# [ ] FRONTEND_ORIGINS=HTTPS only
# [ ] DB_SSL_ENABLED=True
# [ ] HSTS_ENABLED=True
# [ ] RATE_LIMIT_ENABLED=True
# [ ] LOG_LEVEL=WARNING
# [ ] LOG_FORMAT=json
# ===================================================================
